# Progress

## 動作するもの

*   設定ファイル (JSON形式) の読み書き (`ConfigManager`)
*   基本的なGUI (`MainWindow`, `SettingsPopup`, `HelpPopup`)
*   `MainManager` と `UIManager` の連携 (カスタムシグナルによるイベント駆動)
*   GitHub リポジトリへの疎通確認 (`GitHubResourceManager`)
*   最新リリースのタグ名取得 (`GitHubResourceManager`)
*   設定ポップアップのローカルパス入力欄に、起動時にconfigのデータが出力される
*   `settings_popup.py`の`textEdited`シグナルを使って、ローカルパスなどの変更が`MainManager`に通知される
*   `main_window.py`の`HelpPopup`と`SettingsPopup`関連の処理が削除され、`UIManager`経由で呼び出される
*   誤って削除した`main_window.py`のコールバック設定が復元された

## 構築するもの

*   ゲーム起動 (通常版/Steam版)
*   ファイル置換 (日本語化)
*   アップデート機能 (アプリと翻訳データ)
    *   GitHub Releases からのダウンロード
    *   ダウンロードしたファイルの適用
*   UIの改善
    *   ステータス表示
    *   エラーメッセージ表示
    *   プログレスバー表示 (アップデート時)
    *   メインウィンドウのローカルパスの文字列は削除
*   各種機能のテスト
*   初回起動時のチュートリアルポップアップ
*   ローカルパスのテキストエディットの部分を直接書き換えても、configに即時反映されない
*   appとtranslationのサーバーパスに関しても同様にconfigに即時反映されない
*   必要なファイルやフォルダが無い場合の対応
    *   dataフォルダが無い場合：新規作成
    *   ja_jp_data.datが無い場合：疎通確認後に初回ダウンロード
    *   ja_jp_data.dirが無い場合：疎通確認後に初回ダウンロード
    *   MyFont.ttfが無い場合：疎通確認後に初回ダウンロード
    *   updater.exeが無い場合：疎通確認後に初回ダウンロード (TODO: まだupdate.exeは作成すらしてないので)

## 要件

*   サーバーダウン時: 適切なエラーメッセージを表示
*   設定ファイル破損時: デフォルト設定で起動
*   ファイル操作権限不足時: エラーメッセージを表示し、処理を中断しない
*   ファイル不在時: 適切なエラーメッセージを表示

## 現在のステータス

*   Memory Bank の更新: 完了
*   プロジェクト構成の変更: 完了
*   `Logic` モジュールの廃止: 完了
*   `MainManager` へのビジネスロジック集約: 完了
*   `UIManager` と `MainWindow` 間のカスタムシグナル導入: 完了
*   `preview_gui.py` の削除: 完了
*   `MainWindow.py` へのUI実装: 完了
*   設定ポップアップのローカルパス問題修正: 完了
*   `main_window.py`の不要な処理削除: 完了
*   コールバック設定の復元: 完了

## 既知の問題

*   特になし (これから実装していく中で問題が見つかる可能性あり)

## 今後の計画

1.  UIの調整 (必要に応じて)
2.  各種機能の実装とテスト (ゲーム起動、日本語化、アップデート確認、設定変更など)
3.  UIテスト
4.  アップデート機能の実装 (アプリと翻訳データ)
